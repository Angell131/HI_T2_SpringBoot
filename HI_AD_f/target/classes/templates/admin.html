<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" th:href="@{css/estilos.css}">

  <title>Blablabla</title>
</head>
<body style="background-color: #212121;color: #fff;font-family: monospace, serif;letter-spacing: 0.05em;">
<h1 style="color: lawngreen;text-align: center">Portal de administrador</h1>
<h1 th:insert="fragmento.html" style="color: lawngreen;text-align: center"></h1>
<table class="table" style="color: lawngreen">
    <thead>
    <tr>
        <th>NIF</th>
        <th>Nombre</th>
        <th>Apellidos</th>
        <th>Tareas nombre</th>
        <th>Tareas Descripcion</th>
        <th>Editar</th>
        <th>Borrar</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="usuario : ${listaUsuarios}">
        <td th:text="${usuario.getNif()}"></td>
        <td th:text="${usuario.getNombre()}"></td>
        <td th:text="${usuario.getApellidos()}"></td>
        <td>
            <th:block th:each="tarea : ${usuario.getTareas()}">
            <ul>
                <li th:text="${tarea.getNombre()}"></li>
            </ul>
            </th:block>
        </td>
        <td>
            <th:block th:each="tarea : ${usuario.getTareas()}">
                <ul>
                    <li th:text="${tarea.getDescripcion()}"></li>
                </ul>
            </th:block>
        </td>
        <td>
            <form th:action="@{/admin/usuario/editar}" method="get">
                <button type="submit" class="btn btn-transparent" style="color: lawngreen" th:value="${usuario.getNif()}" name="nif"><i class="fa-solid fa-pencil"></i></button>
            </form>
        </td>
        <td>
            <a th:href="@{/eliminar/{nif}(nif=${usuario.getNif()})}" class="btn btn-transparent" style="color: #ff0101"><i class="fa-solid fa-trash"></i></a>
        </td>
    </tr>
    </tbody>
</table>
<a class="btn btn-success" th:href="@{/login}">Log in</a>
<a class="btn btn-warning" th:href="@{/admin/usuario/nuevo}"><i class="fa-regular fa-layer-plus"></i>Crear usuario</a>
<a class="btn btn-danger" th:href="@{/logout}">Log out</a>
<a class="btn btn-primary" th:href="@{/}"><i class="fa-solid fa-house"></i></a>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>